# SPA (Single Page Application)

## 1. SPA란?

- 하나의 HTML 페이지에서 JavaScript로 콘텐츠를 동적으로 변경하며 여러 화면을 표현하는 웹 애플리케이션 방식입니다.

## 2. SPA의 장점

1. **빠른 사용자 경험**: 페이지 전체를 새로고침하지 않고 필요한 부분만 업데이트하여 매끄러운 화면 전환이 가능합니다.
2. **서버 부하 감소**: 초기 로딩 후에는 데이터만 주고받으므로 서버 요청이 줄어듭니다.
3. **컴포넌트 재사용**: UI를 컴포넌트 단위로 분리하여 코드 재사용성과 유지보수성이 높아집니다.

## 3. SPA에서 화면 변경 방식

- 클라이언트 사이드 라우팅을 통해 URL이 변경되면 JavaScript가 해당하는 컴포넌트를 렌더링하여 DOM을 업데이트합니다.

## 4. SPA의 단점

1. **초기 로딩 속도**: 모든 JavaScript 번들을 한 번에 로드해야 하므로 초기 로딩 시간이 길어질 수 있습니다.
2. **SEO 문제**: 검색 엔진이 JavaScript를 실행해야 콘텐츠를 크롤링할 수 있어 SEO에 불리할 수 있습니다.
3. **보안 취약점**: 클라이언트에서 모든 로직이 노출되므로 보안에 더 신경써야 합니다.

## 5. SPA 단점 해결 방법

### (1) SEO 문제 해결
- **SSR(Server-Side Rendering)**: Next.js를 사용해 서버에서 HTML을 생성하여 검색 엔진에 완성된 페이지를 제공합니다.
- **SSG(Static Site Generation)**: 빌드 시점에 미리 HTML을 생성하여 정적 파일로 제공합니다.

### (2) 초기 로딩 속도 개선
- **Code Splitting**: 하나의 큰 번들을 작은 청크로 분리하여 필요한 코드만 로드하는 기법입니다.
  - 라우트 기반: 페이지별로 코드를 분리 (홈, 대시보드 등)
  - 컴포넌트 기반: 무거운 컴포넌트(차트, 에디터)를 분리
- **Lazy Loading**: React.lazy()와 Suspense를 사용해 컴포넌트를 필요할 때만 동적으로 로드합니다.

```jsx
// Code Splitting 예시
import { lazy, Suspense } from 'react';

const Dashboard = lazy(() => import('./pages/Dashboard'));

function App() {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <Dashboard />
    </Suspense>
  );
}
```

**Suspense fallback**:
- **역할**: 컴포넌트를 로드하는 동안(네트워크 요청 중) 보여줄 대체 UI를 지정합니다.
- **필수 이유**: lazy()로 로드되는 컴포넌트는 비동기이므로, 로딩 중 화면이 비어있지 않도록 fallback UI가 필요합니다.
- **활용**: 로딩 스피너, 스켈레톤 UI 등을 사용하여 사용자 경험을 개선합니다.

## 6. SPA vs MPA

| 구분 | SPA | MPA |
|------|-----|-----|
| **페이지 로딩** | 초기 1번, 이후 데이터만 요청 | 페이지마다 HTML 새로 받음 |
| **사용자 경험** | 빠르고 매끄러움 | 페이지 전환 시 깜빡임 |
| **SEO** | 불리 (해결책 필요) | 유리 |
| **개발 방식** | JavaScript 중심 | 서버 템플릿 중심 |
| **예시** | Gmail, Facebook | 전통적인 웹사이트 |

> **참고**: 현대 웹 개발은 SPA의 장점(사용자 경험)과 MPA의 장점(SEO)을 결합한 하이브리드 방식(Next.js, Remix)으로 진화하고 있습니다.